{% extends 'base.html.twig' %}

{% block title %}
	Connexion
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="mt-4">
			Formulaire de connnexion
		</h1>

		{% for message in app.flashes('success') %}
			<div class="alert alert-success mt-4">
				{{ message }}
			</div>
		{% endfor %}
			{% for message in app.flashes('note') %}
			<div class="alert alert-warning mt-4">
				{{ message }}
			</div>
		{% endfor %}

		{% if error %}
			<div class="alert alert-danger mt-4">
				{{ error.messageKey|trans(error.messageData, 'security') }}
			</div>
		{% endif %}

		<form action="{{ path('security_login') }}" method="post" name="login">
			<div class="form-group">
				<label for="username" class="form-label mt-4">
					Adresse email
				</label>
				<input type="email" class="form-control" id="username" name="_username" placeholder="yourmail@mail.fr" value="{{ last_username }}">
			</div>
			<div class="form-group">
				<label for="password" class="form-label mt-4">
					Mot de passe
				</label>
				<input type="password" class="form-control" id="password" name="_password" placeholder="********">
			</div>
			<input type="hidden" name="{{ path('user_profil') }}" value="/account">
			   <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
			<button type="submit" class="btn btn-primary mt-4">
				Se connecter
			</button>
		</form>
		<div class="alert alert-dismissible alert-light  mt-2">
						<strong>
							Haven't registered ?
						</strong>
						This
						<a href="{{path('security_registration')}}" class="alert-link">
							Create a new user account.
						</a>

					</div>
	</div>
{% endblock %}
